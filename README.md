# Deep Research

A powerful document analysis and knowledge graph system that combines vector search and graph-based information retrieval to provide intelligent answers to your queries.

## Features

- **Document Processing**
  - Automatic text extraction from various document formats
  - Smart text chunking for optimal processing
  - Vector embeddings generation using OpenAI's models

- **Dual Search System**
  - Vector-based similarity search using ChromaDB
  - Graph-based relationship search using Neo4j
  - Intelligent query expansion for better search coverage
  - Result deduplication and relevance ranking

- **Knowledge Graph**
  - Automatic triple extraction from text
  - Entity relationship mapping
  - Dynamic graph updates
  - Interactive graph visualization
  - Hybrid search combining vector and graph approaches

- **Smart Answer Generation**
  - Context-aware answer synthesis
  - Source attribution
  - Confidence scoring
  - Markdown-formatted responses

## Prerequisites

- Python 3.8+
- Neo4j Database
- OpenAI API Key

## Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd deepresearch
```

2. Create and activate a virtual environment:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
python -m spacy download en_core_web_sm
```

4. Set up environment variables in `.env`:
```env
OPENAI_API_KEY=your_api_key_here
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=research_dbms
NEO4J_DATABASE=research_dbms
```

## Usage

1. Start the application:
```bash
python run.py
```

2. Access the web interface at `http://localhost:8000`

3. Upload documents:
   - Use the upload section to add your documents
   - The system will automatically process and index them
   - View the knowledge graph visualization to see extracted relationships

4. Search and analyze:
   - Enter your query in the search bar
   - Toggle knowledge graph integration as needed
   - View results with source attribution
   - Explore related queries generated by the system

## Architecture

### Components

1. **Document Processor**
   - Handles document upload and text extraction
   - Implements smart chunking strategies
   - Manages document metadata

2. **Vector Store**
   - ChromaDB integration for similarity search
   - OpenAI embeddings for semantic understanding
   - Configurable retrieval parameters

3. **Knowledge Graph**
   - Neo4j backend for relationship storage
   - Triple extraction using LLMs
   - Entity type inference
   - Hybrid search capabilities

4. **Search Agent**
   - Query expansion
   - Multi-source search coordination
   - Result ranking and deduplication
   - Answer generation

## API Endpoints

- `POST /api/upload`: Upload documents
- `POST /api/search`: Perform search with optional KG integration
- `GET /api/knowledge-graph`: Retrieve graph visualization data
- `DELETE /api/knowledge-graph`: Clear all data

## Development

### Project Structure
```
deepresearch/
├── app/
│   ├── api/
│   │   └── routes.py
│   ├── agents/
│   │   ├── document_processor.py
│   │   ├── knowledge_graph.py
│   │   ├── search.py
│   │   └── vector_store.py
│   └── main.py
├── static/
│   └── index.html
├── data/
│   └── chroma/
├── uploads/
└── requirements.txt
```

### Adding New Features

1. Document Processing:
   - Extend `DocumentProcessor` class
   - Add new format handlers
   - Implement custom chunking strategies

2. Search Capabilities:
   - Modify `SearchAgent` class
   - Add new search algorithms
   - Implement additional ranking methods

3. Knowledge Graph:
   - Extend triple extraction
   - Add new relationship types
   - Implement additional graph queries

## Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## License

[Your License Here]

## Acknowledgments

- OpenAI for embeddings and LLM capabilities
- Neo4j for graph database
- ChromaDB for vector search
- LangChain for AI integration 